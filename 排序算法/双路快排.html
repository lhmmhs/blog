<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>

    var arr = [3, 6, 5, 1, 2, 4]

    const quicksort = (array) => {
      const sort = (arr, left = 0, right = arr.length - 1) => {
        if (left >= right) { //如果左边的索引大于等于右边的索引说明整理完毕
          return
        }
        let i = left
        let j = right
        const baseVal = arr[j] // 取无序数组最后一个数为基准值
        while (i < j) { // 把所有比基准值小的数放在左边 大的数放在右边



          // arr[i] <= baseVal
          // 排除小于或等于基数的元素
          // 从左边开始找 元素小于等于基数的情况下 继续向后查找 直到找到大于基数的元素
          // 0<5   3<=4
          // 1<5   6<=4

          // 1<4  2<=4
          while (i < j && arr[i] <= baseVal) { // 找到一个比基准值大的数交换
            // 0++

            i++ // 向后查找
          }
          // arr[5] = 6
          arr[j] = arr[i] // 将较大的值放在右边 如果没有比基准值大的数就是将自己赋值给自己（i 等于 j）



          // arr[j] >= baseVal
          // 排除大于或等于基数的元素
          // 从右边开始找 元素大于等于基数的情况下 继续向前查找 直到找到小于基数的元素
          // 1<5   6>=4
          // 1<4   2>=4
          while (i < j && arr[j] >= baseVal) { // 找到一个比基准值小的数交换
            // 5--
            j-- // 向前查找
          }
          // arr[1] = arr[4] (2)
          arr[i] = arr[j] // 将较小的值放在左边 如果没有找到比基准值小的数就是将自己赋值给自己（i 等于 j）

          // i=1 j=4
          //[3,2,5,1,2,6]
        }
        arr[j] = baseVal // 将基准值放至中央位置完成一次循环（这时候 j 等于 i ）
        sort(arr, left, j - 1) // 将左边的无序数组重复上面的操作
        sort(arr, j + 1, right) // 将右边的无序数组重复上面的操作
      }
      sort(array)
      return array
    }

    console.time('quickSort')
    quicksort(arr)
    console.timeEnd('quickSort')
  </script>
</body>

</html>