### 什么是跨域

当1个请求url的协议、域名、端口任意1项与当前页面url不同，即为跨域。

| 请求url                         | 当前页面url                | 是否跨域 | 原因     |
| ------------------------------- | -------------------------- | -------- | -------- |
| http://www.baidu.com/           | http://www.taobao.com/     | 是       | 域名不同 |
| http://www.baidu.com/global.css | https://www.baidu.com/     | 是       | 协议不同 |
| https://www.baidu.com:4000      | https://www.baidu.com:3000 | 是       | 端口不同 |

### 反向代理

服务器端没有同源限制，利用服务器转发请求达到获取资源的方式。

### CORS

服务器设置响应首部**Access-Control-Allow-Origin**，指定可以访问资源的Origin。

1. 浏览器在发送跨域请求时，会携带Origin首部，表明自己的来源
2. 服务器根据Origin首部判断，请求的源是否在白名单内
3. 如果是，进行响应，不是则拒绝请求

### JSONP

动态构建`script`标签，因为`script`请求的资源不受同源策略的限制。

1. 请求资源的url携带1个参数，参数是回调函数的名称
2. 后端获取该参数，将数据包装到函数名中，返回给前端
3. 前端接收到后会执行该函数，获取数据，实现跨域请求

缺点：只支持get请求